.sidebar {
  // General styling
  font-size: 0.875rem;
  text-align: center;

  h2 {
    font-size: var(--font-size-h3);
  }

  .is-style-ma-heading-bon-vivant {
    margin-bottom: -$spacer * 1.25;
  }

  .widget {
    margin-bottom: $spacer * 2;
  }

  // Widget titles
  .widget-title {
    display: inline-block;
    margin-bottom: $spacer * 0.75;
    margin-top: 0;
    position: relative;
    z-index: 1;

    &::after {
      background: var(--primary);
      bottom: $spacer * 0.1;
      content: '';
      height: $spacer * 0.5;
      left: -$spacer * 0.25;
      position: absolute;
      right: -$spacer * 0.25;
      z-index: -1;
    }
  }

  // Widget image
  .widget_media_image {
    &:first-child {
      @include ma-image(var(--light));

      border: 0;
      margin: 0;
      
      &::before {
        border-width: 2px;
        bottom: $spacer * 0.5;
        left: $spacer * 0.5;
        right: $spacer * 0.5;
        top: -$spacer * 0.5;
        transform: none;
        width: auto;
        height: auto;
      }

      &::after {
        bottom: -2.5rem;
        height: calc(11.875rem / 2);
        right: -1.5rem;
        width: calc(11.125rem / 2);
      }

      + .widget_text {
        background: var(--secondary);
        color: #fff;
        padding: $spacer * 2 $spacer $spacer;
      }
    }
  }

  // Widget search
  .widget_search {
    label {
      @include sr-only;
    }

    .search-field {
      $button-width: calc((var(--button-padding-x) * 2) + 2px + 12px); // Button padding-x + border + icon-size

      max-width: calc(100% - #{$button-width});
    }
  }

  // Widget Instagram
  .widget_instagram-feed-widget {
    #sb_instagram {
      padding-bottom: 0 !important;
    }
    
    #sbi_images {
      margin: -16px;
      width: calc(100% + 32px) !important;
    }
  }

  // Widget Navigation
  .widget_nav_menu {
    background: var(--primary);
    color: #fff;
    padding: $spacer * 2 $spacer * 1.5;

    .widget-title {
      &::after {
        background: var(--secondary);
      }
    }

    a {
      color: #fff;
      border-bottom: 1px solid var(--light);
    }
  }

  // Widget Categories
  .widget_categories {
    background: var(--secondary);
    color: #fff;
    padding: $spacer * 2 $spacer * 1.5;

    a {
      color: #fff;
      border-bottom: 1px solid var(--light);
      display: block;
    }
  }

  // Widget Recent Posts
  .recent-posts-widget-with-thumbnails {
    ul {
      list-style: none;
      padding-left: 0;
      text-align: left;

      li {
        border-bottom: 1px solid var(--primary);
        margin-bottom: $spacer;

        &::before,
        &::after {
          clear: both;
          content: '';
          display: table;
        }

        a {
          display: block;
          margin-bottom: $spacer * 0.25;

          .wp-post-image {
            float: left;
            margin-right: $spacer;
            width: 90px;
          }
        }
      }
    }
  }
}